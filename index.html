<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b6efd" />
  <title>MosquitoNet — Windows & Doors</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- Icons (used by browsers / homescreen) -->
  <link rel="icon" href="/assets/icons/icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="/assets/icons/icon-192.png" />

  <!-- Apple meta -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />

  <link rel="stylesheet" href="/assets/css/styles.css" />
</head>
<body>
  <div id="app" class="app">
    <header class="app-header">
      <h1>MosquitoNet</h1>
      <p class="subtitle">Windows & Doors — Mobile</p>
    </header>

    <main class="main">
      <section class="panel">
        <h2>Front Door</h2>
        <div class="row">
          <button id="door-toggle" class="btn btn-primary">Lock / Unlock</button>
          <span id="door-state" class="state">Unknown</span>
        </div>
      </section>

      <section class="panel">
        <h2>Window</h2>
        <div class="row">
          <button id="window-toggle" class="btn">Open / Close</button>
          <span id="window-state" class="state">Unknown</span>
        </div>
      </section>

      <section class="panel">
        <h3>Connection</h3>
        <div class="row">
          <span id="network-status" class="network offline">Offline</span>
          <button id="sync-button" class="btn btn-small">Sync</button>
        </div>
      </section>

      <section class="panel small">
        <p class="note">This is an offline-first demo mobile app. Use Add to Home Screen to install.</p>
      </section>
    </main>

    <footer class="app-footer">
      <small>Built as a PWA — MosquitoNet</small>
    </footer>
  </div>

  <script src="/assets/js/app.js" defer></script>
  <script>
    // register service worker (also done in assets/js/app.js for redundancy)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js').catch(function(err){
        console.warn('SW registration failed:', err);
      });
    }
  </script>
</body>
</html>